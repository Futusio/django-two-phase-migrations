# üîÑ Django Blue-Green Migrations

> Zero-downtime database migrations for Django applications

[![Python](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![Django](https://img.shields.io/badge/django-5.0+-green.svg)](https://www.djangoproject.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

## üìñ –û –ø—Ä–æ–µ–∫—Ç–µ

**Django Blue-Green Migrations** ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Django, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é Blue-Green deployment –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö **–±–µ–∑ –ø—Ä–æ—Å—Ç–æ—è** ‚Äî –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–æ –≤—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π.

## üí° –ü—Ä–æ–±–ª–µ–º–∞

–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ Django –º–∏–≥—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–∏:
- üî¥ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è ‚Üí —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ–ª–æ–Ω–∫–∏
- üî¥ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—è ‚Üí —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–∞–¥–∞—é—Ç
- üî¥ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã ‚Üí –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

Blue-Green –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –Ω–∞ **–¥–≤–∞ —ç—Ç–∞–ø–∞**:

1. **Blue Phase** (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è): –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç–∞—Ä—ã–µ
2. **Green Phase** (–æ—á–∏—Å—Ç–∫–∞): —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è** –≤–æ –≤—Ä–µ–º—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞!

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ INSTALLED_APPS –≤–∞—à–µ–≥–æ Django –ø—Ä–æ–µ–∫—Ç–∞
INSTALLED_APPS = [
    # ...
    'bluegreen',
    # ...
]
```

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# 1. –°–æ–∑–¥–∞—Ç—å blue-green –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py bluegreen <app_name>

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å blue –º–∏–≥—Ä–∞—Ü–∏–∏ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
python manage.py migrate --blue

# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# –û–±–∞ –∫–æ–¥–∞ (—Å—Ç–∞—Ä—ã–π –∏ –Ω–æ–≤—ã–π) —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å green –º–∏–≥—Ä–∞—Ü–∏–∏ (–æ—á–∏—Å—Ç–∫–∞)
python manage.py migrate --green
```

### –ü—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

| –†–µ–∂–∏–º | `*_blue.py` | `*_green.py` | –û–±—ã—á–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ |
|-------|-------------|--------------|------------------|
| `--blue` | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è | ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è |
| `--green` | ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è |
| –ë–µ–∑ —Ñ–ª–∞–≥–æ–≤ | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è | ‚úÖ –í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è |

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏, best practices –∏ troubleshooting –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ [README.md](README.md):

- ‚ú® –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD
- üõ†Ô∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- üìã Best practices

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **Zero-downtime** –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ blue/green —Ñ–∞–∑—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—ã—á–Ω—ã—Ö Django –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è –Ω–µ—Ä–∞–∑–¥–µ–ª–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Django –ø—Ä–æ–µ–∫—Ç—ã
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞–º–∏

## ‚ö†Ô∏è –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π
- –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ç—Ä–µ–±—É—é—â–∏–µ zero-downtime

### ‚öôÔ∏è –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è:
- –ü—Ä–æ—Å—Ç—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å `null=True`
- –ò–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥
- –û–ø–µ—Ä–∞—Ü–∏–∏ AlterField, AlterUnique (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ã—á–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –ª—é–±–æ–π –≤–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç:

1. üêõ **–°–æ–æ–±—â–∞–π—Ç–µ –æ –±–∞–≥–∞—Ö** ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
2. üí° **–ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è** ‚Äî –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –∏–¥–µ—è–º–∏
3. üìñ **–£–ª—É—á—à–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** ‚Äî –ø–æ–º–æ–≥–∏—Ç–µ –¥—Ä—É–≥–∏–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è
4. üîß **–û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ Pull Requests** ‚Äî –∏—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ –±–∞–≥–∏ –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

<p align="center">
  –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Django —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
</p>

<p align="center">
  <sub>‚≠ê –ü–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub ‚Äî —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç!</sub>
</p>

